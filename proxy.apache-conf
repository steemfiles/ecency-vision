# vim: syntax=apache ts=4 sw=4 sts=4 sr noet
<VirtualHost *:80>
	ServerAdmin webmaster@localhost
	DocumentRoot /var/www/html
	StrictHostCheck OFF
	RewriteEngine  on
	
    <LocationMatch ^/(promotion|search)-api/.*>
    	Header set "Content-Type" "application/json"
	</LocationMatch>

    ProxyPass /promotion-api/ http://127.0.0.1:2998/
    ProxyPassReverse /promotion-api/ http://127.0.0.1:2998/
    
    ProxyPass /search-api/search http://127.0.0.1:2999/search
    ProxyPassReverse /search-api/search http://127.0.0.1:2999/search
    	
    ProxyPass /search-api/search-account http://127.0.0.1:2999/search-account
    ProxyPassReverse /search-api/search-account http://127.0.0.1:2999/search-account
    	
    ProxyPass /search-api/search-tag http://127.0.0.1:2999/search-tag
    ProxyPassReverse /search-api/search-tag http://127.0.0.1:2999/search-tag
    	
    ProxyPass / http://127.0.0.1:3000/
    ProxyPassReverse / http://127.0.0.1:3000/

</VirtualHost>

# vim: syntax=apache ts=4 sw=4 sts=4 sr noet

